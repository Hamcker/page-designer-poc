<!-- <div class="border border-primary rounded w-100 p-4" cdkDropList [cdkDropListEnterPredicate]="canEnter()" (cdkDropListEntered)="onEnter($event)"
  (cdkDropListDropped)="onDrop($event)" (cdkDropListExited)="onExit($event)" (cdkDropListSorted)="onSort($event)" [cdkDropListData]="element.children">

  <app-element [element]="child" *ngFor="let child of element.realChildren"></app-element>

</div> -->

<div class="item-dropzone parent rounded w-100" cdkDropList [id]="parentItemId" [cdkDropListData]="parentItem"
  [cdkDropListConnectedTo]="allDropListIds" (cdkDropListDropped)="onDragDrop($event)" [cdkDropListEnterPredicate]="canEnter()">

  <div cdkDrag [id]="element.uId" [cdkDragData]="element" [cdkDragDisabled]="dragDisabled">
    <div class="d-flex align-items-center">
      <div class="item-drag-handle" cdkDragHandle>
        <i *ngIf="!dragDisabled" class="las la-braille"> </i>
        {{ element.definition.name }}
      </div>
      <div class="flex-fill"></div>
      <i class="las la-times cursor-pointer" (click)="onRemoveClick()" *ngIf="!dragDisabled"></i>
    </div>

    <div class="item-drag-preview" *cdkDragPreview>
      {{ element.definition.name }} with {{ element.children.length }} child item(s)
    </div>
  </div>

  <ng-container *ngIf="element.definition.childrenTypes; else childRenderer">
    <div class="item-dropzone" cdkDropList [id]="element.uId" [cdkDropListConnectedTo]="connectedDropListsIds" [cdkDropListData]="element"
      (cdkDropListDropped)="onDragDrop($event)" [cdkDropListEnterPredicate]="canEnter()">

      <div #childrenHost></div>

      <!-- <ng-container *ngFor="let subItem of element.children">
          <app-element [element]="subItem" [parentItem]="element" [connectedDropListsIds]="allDropListsIds" (itemDrop)="onDragDrop($event)"
            (layoutChange)="onLayoutChange()">
          </app-element>

        </ng-container> -->
    </div>
  </ng-container>
  <ng-template #childRenderer>
    <div #childrenHost></div>
  </ng-template>
</div>
